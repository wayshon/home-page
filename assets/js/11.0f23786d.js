(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{188:function(a,n,e){"use strict";e.r(n);var t=e(0),s=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"content"},[e("h2",{attrs:{id:"使用fmdb事务批量存入数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用fmdb事务批量存入数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用FMDB事务批量存入数据")]),a._v(" "),e("p",[e("code",[a._v("2016-04-08")])]),a._v(" "),e("p",[a._v("在iOS编程中使用FMDB来存储数据，在inssert一大串对象时发现用了超过20秒，如果插入1000条数据，相当于进行了1000次磁盘存储。而使用事务之后相当于只执行一次sql语句，插入速度大大提升。")]),a._v(" "),e("div",{staticClass:"language-Objective-C extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('    [[DBManager sharedDBManager].database beginTransaction];\n\n    @try {\n\n        for (NSString *sql in self.sqlArray) {\n\n            [[DBManager sharedDBManager].database executeUpdate:sql];\n\n        }\n\n    }\n\n    @catch (NSException *exception) {\n\n        [[DBManager sharedDBManager].database rollback];\n\n    }\n\n    @finally {\n\n        [[DBManager sharedDBManager].database commit];\n\n        [self.sqlArray removeAllObjects];\n\n        [[NSNotificationCenter defaultCenter]postNotificationName:@"updatePlan" object:nil];\n\n    }\n')])])])])}],!1,null,null,null);n.default=s.exports}}]);